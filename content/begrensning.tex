I dette kapitlet blir det gitt en innføring om begrensningsprogrammering og utfordringer som kommer med begrensningsprogrammering. Det vil også bli gitt eksempler på verktøy som eksisterer idag for å bruke i begrensningsprogrammering samt noen enkle verktøy for enkel planlegging av aktiviteter og ressurser. Til slutt er det en kort beskrivelse av verktøyene som er brukt i denne prosjektetoppgaven.

\subsection{Kort om begrensningsprogrammering}
Begrensningsprogrammering er et programmeringsparadigme hvor relasjoner mellom variable blir definert i form av begrensninger. Begrensningsprogrammering er en form for deklarativ programmering, som skiller seg fra det mer vanlige imperative programmeringen\footnote{Imperativ programmering har sekvenser med instanser som blir utført.} ved at løsningen blir til ved å tilfredsstille begrensningene. Det er forskjellige områder innen begrensningsprogrammering som ''Constraint Satisfaction Problems'', ''Constraint Logic Problems'' og ''Scheduling Problems''\cite{cpwikipedia}. Det mest kjente planleggingsproblemet er ''Job Shop Scheduling''. I denne oppgaven er det et Scheduling problem, altså planleggingsproblem som omhandles.

\subsection{Utfordringer med begrensningsprogrammering}
Ved å sammenligne ytelsen til begrensnings-logikk programmeringssystemer mot andre verktøy for begrensingsløsningsprogrammering, er det begrensnings-logikk programmeringssystemene som gir den beste ytelsen. Ytelsen er likevel ikke like god som i mer tradisjonelle imperative programmeringsspråk, og spesielt gjelder dette innenfor tallmessige utregninger. Et mulig forbedringspotensiale innenfor begrensningsprogrammeringen vil da være å utvikle en avansert kompilator som sjekker de tilfellene hvor det ikke er behov for begrensningsløsning, og da kompilerer disse på mest mulig effektive måte\cite{challengesManuel}.

Begrensningsprogrammeringssystemer har ofte en svakhet når det kommer til feilsøking (engelsk: debugging). Det finnes ofte ikke tilstrekkelige metoder for å kunne sikre riktigheten av en løsning og muligheten til å sjekke ytelse i programmer. En måte å løse utfordringene med manglende feilsøkingsmuligheter er å ta i bruke påstander\nomenclature{Påstander}{Engelsk: Assertions}. Ved bruk av påstander kan det opprettes pre- og postforhold. Preforhold skal resultere i en boolsk verdi (sann eller falsk) og metoden blir ikke utført hvis ikke preforholdet er sant. Postforhold til en metode beskriver hva som skal være oppnådd med metoden. Postforhold er også en boolsk verdi\cite{challengesManuel}.

\subsection{Begrensingsprogrammeringsverktøy idag}
Det finnes idag flere forskjellige verktøy for begrensningsprogrammering, både i form av egne programmeringsspråk som er skreddersydd for begrensningsprogrammering og biblioteker til godt kjente programmeringsspråk som Java og C++. I begge disse kategoriene finnes det alternativer som er kommersielle og andre med åpen kildekode. Noen eksempler på skreddersydde programmeringsspråk for begrensningsprogrammering er Prolog og Comet. Sistnevnte er et programmeringspråk for begrensningsprogrammering med lokalt søk og er en kommersiell løsning. Et eksempler på begrensningsprogrammeringsbibliotek er IBM ILOG CP.

Planlegging er ofte tett knyttet opp mot prosjektstyring og prosjektstyringsverktøy finnes det etterhvert veldig mange av \cite{projectmanagmenttoolswiki}. Det finnes programmer installert både lokalt på maskinen og webbaserte tjenester. Fellesnevneren for veldig mange av disse verktøyene, enten de er lokalt eller webbaserte, er at de skal hjelpe til med alt fra prosjektplanlegging, dokumentdeling, oversikt over oppgaver, oversikt over frister, møteplanlegging og mye mer. Denne typen verktøy er ofte gjort enkle å bruke.

I samme kategori er det også noen programmer som gjør det mulig å definere aktiviteter (ofte kalt oppgaver) og knytte ressurser til aktivitetene. Et eksempel på et slikt program er Microsoft Project (MSProject)\nomenclature{MSProject}{Microsoft Project 2010}. Dette programmet har et grafisk grensesnitt som andre programmer i Office-pakken til Microsoft og er et enkelt program å bruke. MSProject gir muligheter til manuell og automatisk planlegging \cite{msproject2010blog}. I MSProject er det mulig å legge til begrensninger, men disse kan kun legges til aktiviteters starttidspunkt. Aktiviteter kan tillegges begrensinger ut ifra om aktiviteten skal planlegges tidlig eller sent i prosessen eller på et gitt tidspunkt \cite{begrensingermsproject}. Denne prosjektoppgaven har flere ressurser (lokasjoner, mannskaper, kraner, osv.) knyttet til en aktivitet, begrensinger og sikkerhetsbegrensinger. Når problemet blir såpass komplekst, vil ikke et program som MSProject fungere til formålet.

Det finnes systemer som løser de mest kjente og brukte begrensningsprogrammeringsproblemene (for eksempel ''Job Shop Scheduling Problem'')  ''Exact JobBOSS Software'' er et eksempel på et slikt system. Systemet håndterer planleggings- og produksjonsgjennomføring \cite{exact}.

\subsection{Verktøy brukt i prosjektoppgaven}
Etterfølgende verktøy og teknologier utviklet av IBM er brukt for å gjennomføre prosjektoppgaven.

\subsubsection{Kort om Concert}\nomenclature{Concert}{IBM ILOG Concert Technology}
Concert er et C++ bibliotek av klasser og funksjoner som gir mulighet til å designe modeller av problemer innen matematisk programmering og innen begrensningsprogrammering, såkalte optimaliseringsproblemer. Det er ikke noe eget programmeringsspråk, men gir muligheter til å bruke datastrukturer og kontrollstrukturer som allerede finnes i C++. Dette gir så gode muligheter til å integrere Concert i allerede eksisterende løsninger og systemer. I implementeringen av løsningen i prosjektoppgaven benyttes enkelte av Concert sine typer og klasser. Alle navn på typer, klasser og funksjoner har prefiksen Ilo.

De enkleste klassene i Concert (eks. IloNumVar og IloConstraint) har en tilhørende klasse med matriser hvor matrisen er instanser av den enkle klassen. Et eksempel på det er IloConstraintArray som er instanser av klassen IloConstraint
\cite{cpconcertilog}.

\subsubsection{Kort om Solver}\nomenclature{Solver}{IBM ILOG Solver}
IBM ILOG Solver er et C++ bibliotek utviklet for å løse komplekse kombinatoriske problemer innen forskjellige områder. Eksempler på anvendelsesområder kan være produksjonsplanlegging, ressurstildeling, timeplanplanlegging, personellplanlegging, osv. Solver er basert på Concert. Som i Concert, så er heller ikke Solver et eget programmeringsspråk, men det gir mulighet til å bruke egenskapene til C++.

Solver bruker begrensningsprogrammering for å finne løsninger til optimaliseringsproblemer. Det å finne løsninger med Solver er basert på tre steg: beskrive, modellere og løse. De tre stegene forklares som følger:

\begin{itemize}
\item Steg 1:
Problemet må beskrives i programmeringsspråket som brukes.
\item Steg 2:
Concertklassene brukes for å opprette en modell av problemet. Modellen blir da satt sammen av beslutningsvariable og begrensninger. Beslutningsvariablene er den ukjente informasjonen i problemet som skal løses. Alle beslutningsvariablene har et domene med mulige verdier. Begrensningene setter grensene for kombinasjonene av verdier for beslutningsvariablene.
\item Steg 3:
Solver brukes for å løse problemet. Dette innebærer å finne verdier for alle beslutningsvariablene samt ikke bryte noen av de definerte begrensningene. Solver ser etter løsninger i et søkeområde, der søkeområdet er alle mulige kombinasjoner av verdier. I denne prosjektoppgaven brukes generelle søkemål i Solver for å tildele alternative ressurser, rangere eneressurser og for å sette tiden på aktiviteter tidligst mulig i planleggingen.
\begin{itemize}
\item IloAssignAlternative, er søkemålet i Solver for å tildele alternative ressurser til aktiviteter.
\item IloRankForward, er søkemålet i Solver som rangerer ressurser av typen eneressurs.
\item IloSetTimesForward, er søkemålet i Solver som tildele starttid til alle aktivitetene tidligst mulig i planleggingen.
\end{itemize}
\end{itemize}
En kombinasjon av disse søkemålene vil kunne gi forskjellige løsninger.
\cite{cpsolverilog}

\subsubsection{Kort om Scheduler}\nomenclature{Scheduler}{IBM ILOG Scheduler}
Ved utvikling av problemløsings-applikasjoner som krever behandling av ressurser fordelt på tid, brukes IBM ILOG Scheduler. Scheduler er et C++ bibliotek som baserer seg på Solver, og som benytter alle muligheter med objektorientering og begrensningsprogrammering. Scheduler har spesialisert funksjonalitet på å løse problemer innen planlegging og ressurstildeling.

I denne prosjektoppgaven er Scheduler brukt til å definere aktiviteter, kummulative ressurser, eneressurser og alternative ressurser. Aktiviteter er modellert ved bruk av IloActivity, hvor varighet og navn til aktiviteten blir satt som parametere. I og med at alle aktivitetene har en lokasjon, brukes i tillegg setIntParameter for å definere lokasjonen til aktiviteten. Det blir også lagt inn avhengigheter mellom de aktiviteter som er avhengig av hverandre. Kummulative ressurser, eller gjenbrukbare ressurser, blir brukt når det er begrenset med kapasitet på ressursen, ofte representert ved en tidsfunksjon. I Scheduler er kummulative ressurser modellert med IloDiscreteResource. Eneressurser er i Scheduler ressurser med kapasitet en, og kan kun brukes av en aktivitet av gangen.
\cite{cpschedulerilog}